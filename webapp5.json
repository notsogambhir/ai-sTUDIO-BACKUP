{
  "components/CoursePoLinkageDashboard.tsx": "/**\n * @file CoursePoLinkageDashboard.tsx\n * @description\n * This component is a dashboard displayed on the `ProgramOutcomesList` page. Its purpose is to\n * show how each course in a program contributes to the Program Outcomes (POs).\n *\n * It performs two main calculations:\n * 1.  **Overall CO Attainment per Course**: For each course, it calculates the average\n *     attainment percentage across all its COs for all students in the selected batch. This\n *     gives a single performance score for the entire course.\n * 2.  **Average Linkage to POs**: For each course, it looks at the CO-PO Mapping Matrix\n *     and calculates the average mapping strength (from 0 to 3) from that course to each PO.\n *     This shows how strongly a course is designed to support each program outcome.\n *\n * The result is a table with courses as rows and POs as columns, providing a high-level\n * overview of the curriculum's structure and performance.\n */\n\nimport React, { useMemo } from 'react';\nimport { ProgramOutcome, Course } from '../types';\nimport { useAppContext } from '../hooks/useAppContext';\n\n// This defines the \"props\" or properties that this component accepts from its parent.\ninterface CoursePoLinkageDashboardProps {\n    programOutcomes: ProgramOutcome[];\n    courses: Course[];\n}\n\nconst CoursePoLinkageDashboard: React.FC<CoursePoLinkageDashboardProps> = ({ programOutcomes, courses }) => {\n    // We get our app's data and the selected batch from the \"magic backpack\".\n    const { data, selectedBatch } = useAppContext();\n\n    /**\n     * This is the main calculation logic for the dashboard, wrapped in `useMemo` for performance.\n     * It will only re-run if its dependencies (courses, data, selectedBatch) change.\n     */\n    const courseLinkageData = useMemo(() => {\n        if (!selectedBatch || courses.length === 0) return [];\n        const programId = courses[0].programId;\n\n        // --- Step 1: Filter students down to the selected batch. ---\n        const batch = data.batches.find(b => b.programId === programId && b.name === selectedBatch);\n        if (!batch) return [];\n        const sectionIdsForBatch = new Set(data.sections.filter(s => s.batchId === batch.id).map(s => s.id));\n\n        // --- Step 2: Pre-calculate lookup maps for performance. ---\n        // This is much faster than searching through arrays inside a loop.\n        \n        // Map of student marks: Student ID -> Assessment ID -> Question Name -> Marks\n        const studentMarksMap = new Map<string, Map<string, Map<string, number>>>();\n        data.marks.forEach(mark => {\n            if (!studentMarksMap.has(mark.studentId)) studentMarksMap.set(mark.studentId, new Map());\n            const assessmentMap = studentMarksMap.get(mark.studentId)!;\n            assessmentMap.set(mark.assessmentId, new Map(mark.scores.map(s => [s.q, s.marks])));\n        });\n\n        // Map of which questions belong to which CO: CO ID -> [List of Questions]\n        const coQuestionMap = new Map<string, { q: string; maxMarks: number; assessmentId: string }[]>();\n        data.courseOutcomes.forEach(co => coQuestionMap.set(co.id, []));\n        data.assessments.forEach(a => a.questions.forEach(q => q.coIds.forEach(coId => coQuestionMap.get(coId)?.push({ ...q, assessmentId: a.id }))));\n\n\n        // --- Step 3: Loop through each course to calculate its data row. ---\n        return courses.map(course => {\n            const courseOutcomes = data.courseOutcomes.filter(co => co.courseId === course.id);\n            \n            // Find all students who are enrolled in this course AND belong to the selected batch.\n            const studentsInCourse = data.students.filter(s => \n                s.sectionId && sectionIdsForBatch.has(s.sectionId) &&\n                data.enrollments.some(e => e.studentId === s.id && e.courseId === course.id)\n            );\n\n            // --- Calculation Part A: Overall CO Attainment for the course ---\n            let overallCoAttainment = 0;\n            if (studentsInCourse.length > 0 && courseOutcomes.length > 0) {\n                // To get the course's overall attainment, we first calculate the average\n                // attainment for each individual student in the course...\n                const studentOverallAttainments = studentsInCourse.map(student => {\n                    const studentCoPercentages = courseOutcomes.map(co => {\n                        const questionsForCo = coQuestionMap.get(co.id) || [];\n                        if (questionsForCo.length === 0) return 0;\n                        \n                        const totalMaxMarks = questionsForCo.reduce((sum, q) => sum + q.maxMarks, 0);\n                        let totalObtainedMarks = 0;\n\n                        const studentAllMarks = studentMarksMap.get(student.id);\n                        if (studentAllMarks) {\n                            totalObtainedMarks = questionsForCo.reduce((sum, q) => {\n                                const marks = studentAllMarks.get(q.assessmentId)?.get(q.q);\n                                return sum + (marks || 0);\n                            }, 0);\n                        }\n\n                        return totalMaxMarks > 0 ? (totalObtainedMarks / totalMaxMarks) * 100 : 0;\n                    });\n                    \n                    // ...calculate the student's personal average across all COs...\n                    return studentCoPercentages.length > 0 ? studentCoPercentages.reduce((a, b) => a + b, 0) / studentCoPercentages.length : 0;\n                });\n                // ...and finally, we average all the student averages to get the course's overall score.\n                overallCoAttainment = studentOverallAttainments.length > 0 ? studentOverallAttainments.reduce((a,b) => a+b, 0) / studentOverallAttainments.length : 0;\n            }\n\n            // --- Calculation Part B: Average Linkage Level from this course to each PO ---\n            const averageLinkages: { [poId: string]: number } = {};\n            programOutcomes.forEach(po => {\n                if (courseOutcomes.length === 0) { averageLinkages[po.id] = 0; return; }\n\n                let totalLinkageLevel = 0;\n                let linkedCoCount = 0;\n\n                courseOutcomes.forEach(co => {\n                    // Find the mapping strength (1, 2, or 3) from this CO to the current PO.\n                    const mapping = data.coPoMapping.find(m => m.courseId === course.id && m.coId === co.id && m.poId === po.id);\n                    const level = mapping?.level || 0;\n                    if (level > 0) {\n                        totalLinkageLevel += level;\n                        linkedCoCount++;\n                    }\n                });\n\n                // The average is the total strength divided by the number of COs that actually map to the PO.\n                averageLinkages[po.id] = linkedCoCount > 0 ? totalLinkageLevel / linkedCoCount : 0;\n            });\n            \n            return { course, overallCoAttainment, averageLinkages };\n        });\n\n    }, [courses, programOutcomes, data, selectedBatch]);\n\n\n    if (courses.length === 0) return null;\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Course Contribution to POs</h2>\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full border-collapse border border-gray-300\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"border border-gray-300 p-2 text-sm font-medium text-gray-500 uppercase\">Course</th>\n                            <th className=\"border border-gray-300 p-2 text-sm font-medium text-gray-500 uppercase\">Overall CO Attainment</th>\n                            {programOutcomes.map(po => (\n                                <th key={po.id} className=\"border border-gray-300 p-2 text-sm font-medium text-gray-500 uppercase\" title={po.description}>{po.number} Linkage</th>\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {/* We loop through our calculated data to build the table rows. */}\n                        {courseLinkageData.map(({ course, overallCoAttainment, averageLinkages }) => (\n                            <tr key={course.id} className=\"bg-white hover:bg-gray-50\">\n                                <td className=\"border border-gray-300 p-2 font-semibold text-gray-700\">{course.name} ({course.code})</td>\n                                <td className=\"border border-gray-300 p-2 text-center\">\n                                    {/* The overall attainment score for the course. */}\n                                    <span className={`font-bold px-2 py-1 rounded-md ${overallCoAttainment >= course.target ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                                        {overallCoAttainment.toFixed(1)}%\n                                    </span>\n                                </td>\n                                {/* The average linkage level from this course to each PO. */}\n                                {programOutcomes.map(po => (\n                                    <td key={po.id} className=\"border border-gray-300 p-2 text-center text-gray-600\">\n                                        {averageLinkages[po.id].toFixed(2)}\n                                    </td>\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nexport default CoursePoLinkageDashboard;",
  "components/CourseCoAttainment.tsx": "/**\n * @file CourseCoAttainment.tsx\n * @description\n * This component is the \"CO Attainments\" tab within the `CourseDetail` page. It's a\n * powerful reporting tool that performs a complex calculation to determine the final\n * attainment level for each of the course's Course Outcomes (COs).\n *\n * What it does:\n * 1.  **Calculates Attainment**: For each CO, it calculates the percentage of students who\n *     met the course's target score for that specific CO.\n * 2.  **Determines Attainment Level**: Based on that percentage, it compares it against the\n *     course's attainment thresholds (Level 1, 2, 3) to assign a final attainment level (0, 1, 2, or 3).\n * 3.  **Displays Results**: It shows a table with each CO, the percentage of students\n *     who met the target, and the final calculated attainment level.\n * 4.  **Scope Filtering**: For PCs and Admins, it provides a dropdown to view the attainment\n *     for the \"Overall Course\" or for a specific class section. For Teachers, it automatically\n *     scopes the data to only the sections they teach.\n *\n * The calculation is one of the most complex in the app, as it involves data from\n * students, enrollments, assessments, marks, and course outcomes all at once.\n */\n\nimport React, { useMemo, useState } from 'react';\nimport { Course } from '../types';\nimport { useAppContext } from '../hooks/useAppContext';\n\n// This defines the \"props\" or properties that this component accepts.\ninterface CourseCoAttainmentProps {\n  course: Course;\n}\n\nconst CourseCoAttainment: React.FC<CourseCoAttainmentProps> = ({ course }) => {\n  // We ask our \"magic backpack\" (AppContext) for the data and current user.\n  const { data, currentUser } = useAppContext();\n  const isPCorAdmin = currentUser?.role === 'Program Co-ordinator' || currentUser?.role === 'Admin';\n  \n  // A piece of memory to remember which scope (overall or a specific section) is selected.\n  const [selectedScope, setSelectedScope] = useState<'overall' | string>('overall');\n\n  // `useMemo` is a smart calculator that only re-calculates the sections for this course\n  // when the course or enrollment data changes.\n  const courseSections = useMemo(() => {\n    const enrolledSectionIds = new Set(data.enrollments.filter(e => e.courseId === course.id && e.sectionId).map(e => e.sectionId!));\n    return data.sections.filter(s => enrolledSectionIds.has(s.id)).sort((a,b) => a.name.localeCompare(b.name));\n  }, [data.enrollments, data.sections, course.id]);\n\n  /**\n   * This is the main calculation logic for the entire component, wrapped in `useMemo` for performance.\n   * It will only re-run if the data, course, user, or selected scope changes.\n   */\n  const coAttainmentData = useMemo(() => {\n    const courseOutcomes = data.courseOutcomes.filter(co => co.courseId === course.id).sort((a,b) => a.number.localeCompare(b.number));\n    \n    // --- Step 1: Determine which students to include in the calculation based on the selected scope. ---\n    let relevantStudentIds: Set<string>;\n\n    if (isPCorAdmin) {\n        if (selectedScope === 'overall') {\n            // For \"Overall Course\", include all students enrolled in the course.\n            relevantStudentIds = new Set(data.enrollments.filter(e => e.courseId === course.id).map(e => e.studentId));\n        } else {\n            // If a specific section is selected, only include students from that section.\n            relevantStudentIds = new Set(data.enrollments.filter(e => e.courseId === course.id && e.sectionId === selectedScope).map(e => e.studentId));\n        }\n    } else { // This is the logic for a Teacher.\n        const teacherId = currentUser!.id;\n        const teacherSectionIds = new Set<string>(); // The sections this teacher is responsible for.\n\n        const allCourseSectionIds = new Set(courseSections.map(s => s.id));\n        \n        allCourseSectionIds.forEach(sectionId => {\n            const sectionTeacher = course.sectionTeacherIds?.[sectionId];\n            if (sectionTeacher && sectionTeacher === teacherId) {\n                // If the teacher is explicitly assigned to this section, add it.\n                teacherSectionIds.add(sectionId);\n            } else if (!sectionTeacher && course.teacherId === teacherId) {\n                // If there's no specific teacher for the section, but this teacher is the course default, add it.\n                teacherSectionIds.add(sectionId);\n            }\n        });\n        \n        // A teacher's relevant students are those in the sections they are responsible for.\n        relevantStudentIds = new Set(data.enrollments.filter(e => e.courseId === course.id && e.sectionId && teacherSectionIds.has(e.sectionId)).map(e => e.studentId));\n    }\n\n    // Get the full student objects for the relevant IDs, but only if they are 'Active'.\n    const studentsInScope = data.students.filter(s => relevantStudentIds.has(s.id) && s.status === 'Active');\n    const totalStudents = studentsInScope.length;\n\n    // If there are no students or no COs, we can't do any calculations.\n    if (totalStudents === 0 || courseOutcomes.length === 0) {\n        return { results: [], studentCount: 0 };\n    }\n    \n    // --- Step 2: Pre-calculate maps for faster data lookups inside the loop. ---\n    // This is a big performance win. Instead of searching through arrays over and over,\n    // we build \"maps\" (like dictionaries) that give us instant access to the data we need.\n\n    // Find all assessments for this course by looking at all sections students are enrolled in.\n    const sectionIdsForCourse = new Set(data.enrollments.filter(e => e.courseId === course.id && e.sectionId).map(e => e.sectionId!));\n    const assessmentsForCourse = data.assessments.filter(a => sectionIdsForCourse.has(a.sectionId));\n\n    // Create a map of student marks: Student ID -> Assessment ID -> Question Name -> Marks\n    const studentMarksMap = new Map<string, Map<string, Map<string, number>>>();\n    data.marks.filter(m => relevantStudentIds.has(m.studentId)).forEach(mark => {\n        if (!studentMarksMap.has(mark.studentId)) studentMarksMap.set(mark.studentId, new Map());\n        const assessmentMap = studentMarksMap.get(mark.studentId)!;\n        const scoreMap = new Map<string, number>();\n        mark.scores.forEach(s => scoreMap.set(s.q, s.marks));\n        assessmentMap.set(mark.assessmentId, scoreMap);\n    });\n        \n    // Create a map of which questions belong to which CO: CO ID -> [List of Questions]\n    const coQuestionMap = new Map<string, { q: string; maxMarks: number; assessmentId: string }[]>();\n    courseOutcomes.forEach(co => coQuestionMap.set(co.id, []));\n    assessmentsForCourse.forEach(assessment => {\n        assessment.questions.forEach(q => q.coIds.forEach(coId => coQuestionMap.get(coId)?.push({ q: q.q, maxMarks: q.maxMarks, assessmentId: assessment.id })));\n    });\n\n    // --- Step 3: Loop through each CO and calculate its attainment. ---\n    const results = courseOutcomes.map(co => {\n        const questionsForCo = coQuestionMap.get(co.id) || [];\n        \n        if (questionsForCo.length === 0) return { co, percentageMeetingTarget: 0, attainmentLevel: 0 };\n        \n        let studentsMeetingTarget = 0;\n        // Loop through every student in our scope.\n        studentsInScope.forEach(student => {\n            const totalMaxCoMarks = questionsForCo.reduce((sum, q) => sum + q.maxMarks, 0);\n            const studentAssessmentMarks = studentMarksMap.get(student.id);\n            let totalObtainedCoMarks = 0;\n\n            if (studentAssessmentMarks) {\n                // For this student, add up their marks for all questions linked to this CO.\n                totalObtainedCoMarks = questionsForCo.reduce((sum, q) => sum + (studentAssessmentMarks.get(q.assessmentId)?.get(q.q) || 0), 0);\n            }\n            \n            // Calculate the student's percentage score for this specific CO.\n            const studentCoPercentage = totalMaxCoMarks > 0 ? (totalObtainedCoMarks / totalMaxCoMarks) * 100 : 0;\n            // If their score meets the course's target, increment our counter.\n            if (studentCoPercentage >= course.target) {\n                studentsMeetingTarget++;\n            }\n        });\n\n        // Calculate the final percentage of students who met the target.\n        const percentageMeetingTarget = (studentsMeetingTarget / totalStudents) * 100;\n        \n        // --- Step 4: Convert the percentage into a final Attainment Level (0-3). ---\n        let attainmentLevel = 0;\n        if (percentageMeetingTarget >= course.attainmentLevels.level3) attainmentLevel = 3;\n        else if (percentageMeetingTarget >= course.attainmentLevels.level2) attainmentLevel = 2;\n        else if (percentageMeetingTarget >= course.attainmentLevels.level1) attainmentLevel = 1;\n\n        return { co, percentageMeetingTarget, attainmentLevel };\n    });\n\n    return { results, studentCount: totalStudents };\n\n  }, [data, course, currentUser, isPCorAdmin, selectedScope, courseSections]);\n\n  // A helper object to map attainment levels to pretty colors.\n  const attainmentLevelColors: { [key: number]: string } = {\n      3: 'bg-green-100 text-green-800', 2: 'bg-blue-100 text-blue-800',\n      1: 'bg-yellow-100 text-yellow-800', 0: 'bg-red-100 text-red-800',\n  };\n\n  // The JSX that describes what this component looks like.\n  return (\n      <div className=\"space-y-6\">\n          <div className=\"flex justify-between items-start\">\n            <div>\n              <h2 className=\"text-xl font-semibold text-gray-700\">Course Outcome Attainment Summary</h2>\n              <p className=\"text-sm text-gray-500\">Based on {coAttainmentData.studentCount} active students in the selected scope.</p>\n            </div>\n            {/* The scope selection dropdown is only shown to PCs/Admins if there are sections. */}\n            {isPCorAdmin && courseSections.length > 0 && (\n                <div>\n                    <label htmlFor=\"section-scope-select\" className=\"block text-sm font-medium text-gray-700\">View Attainment For:</label>\n                    <select id=\"section-scope-select\" value={selectedScope} onChange={e => setSelectedScope(e.target.value)} className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base bg-white text-gray-900 border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\">\n                        <option value=\"overall\">Overall Course</option>\n                        {courseSections.map(section => (\n                            <option key={section.id} value={section.id}>Section {section.name}</option>\n                        ))}\n                    </select>\n                </div>\n            )}\n          </div>\n          {/* A handy info box explaining the thresholds used in the calculation. */}\n          <div className=\"bg-gray-50 p-4 rounded-lg border text-sm text-gray-600\">\n              <h3 className=\"font-semibold mb-2\">Thresholds for this Course:</h3>\n              <ul className=\"list-disc list-inside\">\n                  <li><span className=\"font-bold\">CO Target:</span> {course.target}% (Individual student must score this percentage on a CO)</li>\n                  <li><span className=\"font-bold\">Level 3:</span> At least {course.attainmentLevels.level3}% of students meet the CO target.</li>\n                  <li><span className=\"font-bold\">Level 2:</span> At least {course.attainmentLevels.level2}% of students meet the CO target.</li>\n                  <li><span className=\"font-bold\">Level 1:</span> At least {course.attainmentLevels.level1}% of students meet the CO target.</li>\n              </ul>\n          </div>\n          {/* The main results table. */}\n          <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                      <tr>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">CO</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Description</th>\n                          <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">% Students Above Target</th>\n                          <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">Attainment Level</th>\n                      </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {coAttainmentData.results.map(({ co, percentageMeetingTarget, attainmentLevel }) => (\n                          <tr key={co.id}>\n                              <td className=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">{co.number}</td>\n                              <td className=\"px-6 py-4 whitespace-normal text-sm text-gray-600\">{co.description}</td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-center text-sm font-semibold\">\n                                 <span className={percentageMeetingTarget >= course.attainmentLevels.level1 ? 'text-green-600' : 'text-red-600'}>\n                                     {percentageMeetingTarget.toFixed(2)}%\n                                 </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-center text-sm font-bold\">\n                                 <span className={`px-4 py-1 rounded-full text-lg ${attainmentLevelColors[attainmentLevel]}`}>\n                                     {attainmentLevel}\n                                 </span>\n                              </td>\n                          </tr>\n                      ))}\n                      {coAttainmentData.results.length === 0 && (\n                          <tr>\n                              <td colSpan={4} className=\"text-center py-8 text-gray-500\">\n                                  No COs or student data available to calculate attainment.\n                              </td>\n                          </tr>\n                      )}\n                  </tbody>\n              </table>\n          </div>\n      </div>\n  );\n};\n\nexport default CourseCoAttainment;",
  "components/TeacherDashboard.tsx": "/**\n * @file TeacherDashboard.tsx\n * @description\n * This is a specialized dashboard component designed exclusively for users with the 'Teacher' role.\n * It provides a personalized, at-a-glance overview of a teacher's responsibilities.\n *\n * What it does:\n * 1.  **Personalized Welcome**: Displays a welcome message with the teacher's name.\n * 2.  **Task Overview**: Includes a placeholder section for \"Upcoming Deadlines & Tasks\" to help\n *     teachers stay organized.\n * 3.  **Assigned Courses**: The main feature is a list of all courses the teacher is assigned to.\n *     For each course, it shows:\n *     - The course name and code.\n *     - A summary of the status of all its assessments (e.g., \"Marks Uploaded\" or \"Pending\").\n *     - A convenient \"Manage Course\" link to navigate directly to the `CourseDetail` page.\n */\n\nimport React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAppContext } from '../hooks/useAppContext';\nimport { BookOpen } from './Icons'; // Import an icon for the course cards.\n\n// This is the main component function for the Teacher's Dashboard.\nconst TeacherDashboard: React.FC = () => {\n    // We get the current user and all application data from our \"magic backpack\".\n    const { currentUser, data } = useAppContext();\n\n    /**\n     * `useMemo` is a performance helper, like a smart calculator. It calculates the teacher's\n     * course data and only re-runs the calculation if the data or the teacher changes.\n     */\n    const assignedCoursesData = useMemo(() => {\n        if (!currentUser || currentUser.role !== 'Teacher') return [];\n        \n        // --- Step 1: Find all courses this teacher is assigned to. ---\n        // This includes being the main teacher (`teacherId`) or a section-specific teacher (`sectionTeacherIds`).\n        const courses = data.courses.filter(c =>\n            c.teacherId === currentUser.id ||\n            (c.sectionTeacherIds && Object.values(c.sectionTeacherIds).includes(currentUser.id))\n        );\n\n        // --- Step 2: For each course, create a summary of its assessment status. ---\n        return courses.map(course => {\n            // Find all sections that have students enrolled in this course.\n            const sectionIdsForCourse = new Set(data.enrollments.filter(e => e.courseId === course.id && e.sectionId).map(e => e.sectionId!));\n            \n            // Find all assessments associated with those sections.\n            const assessments = data.assessments\n                .filter(a => sectionIdsForCourse.has(a.sectionId))\n                .map(assessment => ({\n                    ...assessment,\n                    // For each assessment, check if any marks have been uploaded for it.\n                    hasMarks: data.marks.some(m => m.assessmentId === assessment.id)\n                }));\n\n            return {\n                ...course,\n                assessments,\n            };\n        });\n    }, [data, currentUser]);\n\n    // The JSX below describes what the Teacher Dashboard looks like.\n    return (\n        <div className=\"space-y-6\">\n            <div>\n                <h1 className=\"text-3xl font-bold text-gray-800\">Welcome, {currentUser?.name}</h1>\n                <p className=\"text-gray-500 mt-1\">Here's your overview for today.</p>\n            </div>\n            \n            {/* Placeholder section for upcoming tasks or deadlines. */}\n            <div className=\"bg-white p-6 rounded-lg shadow-md\">\n                <h2 className=\"text-xl font-semibold text-gray-700 mb-4\">Upcoming Deadlines & Tasks</h2>\n                <div className=\"text-center py-4\">\n                    <p className=\"text-gray-500\">No upcoming tasks. You're all caught up!</p>\n                </div>\n            </div>\n\n            {/* Main section for displaying assigned courses. */}\n            <div className=\"bg-white p-6 rounded-lg shadow-md\">\n                <h2 className=\"text-xl font-semibold text-gray-700 mb-4 flex items-center\">\n                    <BookOpen className=\"w-6 h-6 mr-3 text-blue-500\" /> My Assigned Courses\n                </h2>\n                <div className=\"space-y-4\">\n                    {/* We loop through the course data we calculated and create a card for each course. */}\n                    {assignedCoursesData.map(course => (\n                        <div key={course.id} className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\n                            <div className=\"flex justify-between items-start\">\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-gray-800\">{course.name} ({course.code})</h3>\n                                </div>\n                                {/* The \"Manage Course\" link navigates the user to the detailed course page. */}\n                                <Link to={`/courses/${course.id}`} className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 font-semibold text-sm\">\n                                    Manage Course\n                                </Link>\n                            </div>\n                            <div className=\"mt-3 border-t pt-3\">\n                                <h4 className=\"text-sm font-semibold text-gray-600 mb-2\">Assessment Status</h4>\n                                <div className=\"space-y-1\">\n                                    {/* For each assessment in the course, show its name and status. */}\n                                    {course.assessments.map(assessment => (\n                                        <div key={assessment.id} className=\"flex justify-between items-center text-sm\">\n                                            <p className=\"text-gray-700\">{assessment.name}</p>\n                                            <span className={`px-2 py-0.5 text-xs font-semibold rounded-full ${assessment.hasMarks ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\n                                                {assessment.hasMarks ? 'Marks Uploaded' : 'Pending'}\n                                            </span>\n                                        </div>\n                                    ))}\n                                    {course.assessments.length === 0 && <p className=\"text-sm text-gray-500\">No assessments created for this course yet.</p>}\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                    {/* If the teacher has no courses, show a friendly message. */}\n                    {assignedCoursesData.length === 0 && (\n                        <div className=\"text-center py-4\">\n                            <p className=\"text-gray-500\">You have not been assigned to any courses yet.</p>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default TeacherDashboard;"
}